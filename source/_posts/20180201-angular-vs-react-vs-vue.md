---
title: Angular vs React vs Vue 你在框架大戰中選對方向了嘛？
date: 2018-02-01 17:14:49
tags:
- "Topic:Tech"
---

![angular-vs-react-vs-vue](/images/2018/2/vue-ng-react.jpg)

{% centerquote %}
尋尋覓覓論戰中的真理
「心流」與「技流」的拔河

你知不知道你選的工具是提升該工具熟練度還是專注 Front-End Development 的本質？
{% endcenterquote %}

<!-- more -->

## 一個長期的偽命題

　　標題上是 2017 年目前最紅的前端框架/函式庫，許多論戰文章以此為撰寫主旨，卻在作者的個人信仰下最終做出選擇和結論。老實說挺令人沮喪。

　　我不期望任何網路文章是在 **熟知各個套件軟體本質** 的前提下提出結構性的分析和應對場景最佳實踐，會閱讀這類型的文章的讀者大多數(包括我)是 Web Application Developer，更不要期望掌握套件底層實作方式會對你在實務環境和業務需求產生幫助！因為我們不是 Software Engineer，不需要關心套件是如何實踐，而且當在一個實務的系統裡，Front-End Development 通常不是技術實踐中最大瓶頸，但選擇不當則會對 **開發時程** 、**交付速度** 造成傷害，這點我會在後面加以解釋。

　　順便一提，[目前只有 Vue.js 創作者在知乎上](https://www.zhihu.com/people/evanyou/answers/by_votes)面對比較問題是有能力在 **知己知彼** 的立足點下給予具體回答，因此是我高度認同且強烈推荐的最具有參考價值的網路資源；但美中不足的是用中文撰述，比起英文資源，寫作者終究不是創作者本人，當被批判的對象是與自身利益、聲譽無關時，是無法寫出高度說服力的內容。

　　面對殘酷的現實是，大部分的公司對於這些工具的選用，是依照 **信仰** 而使用，不是深知這些工具以及相關工具鏈調查下做出選擇。為了維持宗教狂熱，讓宗教主持者和信徒飽足感受面子就好，畢竟這筆人事支出~~技術債~~是公司要承受。總而言之，一個願打，一個願挨，雙方滿意就好。

## 選用工具的方法

　　在混沌洪流中，如何發掘軟體的內在價值，其實這不難。

　　既然都是 JS 構成，各自擁有一套 DOM 操作系統來完成 component 的部份更新。將來 Front-End Application 為了因應業務需求，開發環境逐漸變得複雜時，隨之而來的是應用架構 scaling 問題。以下幾點可以著手：

1. **官方文件完整度**：無論是開發人員還是業務實踐，一個軟體是否可被描述，決定一個軟體的可交付能力。
  1. **開發上手度**：開發前的第一步一定是閱讀 API 文件。其指標是，文件的閱讀成本愈低，愈能趨使開發人員盡快上手。
  2. **最佳實踐**：一種思想約束，從小至大的規範 ——　component naming、component desgin、project structure 等開發設計，確保無論是任何一個開發人員接觸這個工具，都能產出大同小異的程式碼。
  3. **延伸推荐**：這些框架本質都是 view solution ，除此之外，官方有沒有其他的套件可供推荐並因應業務情境複雜度。
2. **框架的生態系**：無論是官方還是第三方的工具鏈，是否都是為了解決問題而衍生？
  1. **懶人的解決方案**:現成的 view component 來交付。當公司不是一個鼓勵開發人員作深度發展~~(用完即棄的工具人)~~和服務對象為短期性質，例如：快速簡易架站，他們會更加重視這種選擇，所以這也是 jQuery 為何能長久不滅的主要原因。
  2. **務實的解決方案**
    1. 全域的 component 管理器：以降低 component 相互組合的複雜度。例如: redux、vuex。
    2. 用戶在介面操作產生的事件流：是否能做更好的 UX 設計，例如：Reactive Extensions。
    3. 基於該框架的 CSS 整合套件：畢竟前端開發人員的主力是在於 JS 而不是 CSS。例如：element、material。

　　這裡不考慮以下幾點：

  1. **Commit、Pull Request、Fork 的數目**：如果界定問題和 changes 的目的，各自的 repository member 有他們的管理方式，這個不能作為比較原因。
  2. **Star 的數目：既然已經是具有話題性的前端框架**，跟其他開源專案相比，其數量已經多到不用比較了。
  3. **核心團隊背景**：有人喜歡有富爸爸支援的團隊而感到安心，這是許多開發人員的盲點，但有些開源專案初期沒有金援支持，仍然大受到歡迎，其主要因素為是否解決到痛點，否則為什麼會熱門？
  4. **穩定度**：提供 test、coverage、browser support 等數據成果證明軟體可值得開發人員信賴。否則，就賭上公司的名譽，有問題則肝腦塗地。這都是一種信譽保證。
  5. **網路文章數量**：有問題的軟體自然會討論轟轟烈烈，沒有問題的軟體則是冷冷清清。撇除踩坑文章，是否有發掘最佳實踐和框架底層才是高度價值的內容。
  6. **軟體本身效能**：會發明這些軟體的人本身就是天才中的天才，不是我們這些汎汎之輩可以評論。他們已經經過內部嚴謹調校，所以才能對外全力行銷、推廣。通常會抱怨效能的人一定是 JS 基本功有問題，要自取其辱不是這樣吧！

  講了這麼多，畢竟不會選用的人，腦袋終究是麻木。還是看一下比較文吧！

## Angular vs React vs Vue！

### Angular
* 優點
  1. 是由 **Google** 出產，所以有大公司迷信信仰的人，絕對適合！
  2. 框架思想非常拘束開發人員的表達方式，確保團隊間可維護性和產出一致性。
  3. 底層是採用 **TypeScript** ，開發上也要求使用 **TypeScript**。強迫 JS 提升至強型別層次並進行檢驗，對於沒有 FE 基礎的開發人員可提升撰寫代碼的嚴謹性
  4. 跟 Microsoft 有合作，尤其是 Visual Studio 有超強的智慧提示和現成的解決方案套版。
* 缺點
  * 他的本質是一個 **super heavyweghit framework**，對於初步茅廬的工程師非常吃力。
  * 只看基本應用所需要的 API，其官方文件目測閱讀時間需要 **14** 天！
  * 他的 cli 一口氣包含太多官方套件，但對於開發人員能理解為什麼需要這些套件？
* 應用情境
  * 只適用於超大型業務應用、開發節奏緩慢的企業裡。對於小型應用根本殺豬用牛刀到讓你滿地血尿。
* 作者幹話
  * 在 **台灣** 環境中，目前是傳統且使用 C# 的軟體公司採用，這類型公司不重視資訊軟體價值和開發人員素質，無論是基層和高層都是一群低能兒，希望有個工具可以擺脫陳舊的形象、有辦法趨使有問題的開發人員繼續開發。剛好 Angular 和 ASP.net 在 Visual Studio 是超級大神的產物，一個是 **Google**，一個是 **Microsoft**，無論是 IDE 整合和無痛上手套版樣樣都有，即使是不識之無的人聽到都尿失禁了，不潮嘛！這時候高層更應該不帶任何解釋地往開發人員的臉上扔 Angular 的官方文件，然後說，「這是趨勢」。對於無能的資訊人員來說，既是解藥，也是全新的新鮮感。

對了，請參考一下，ng-cli (版本為 1.6.7)一開始付帶的 package.json 的 dependencies 和 devDependencies 的部份，讓你滿滿驚喜：

```json
{
  "dependencies": {
    "@angular/animations": "^5.2.0",
    "@angular/common": "^5.2.0",
    "@angular/compiler": "^5.2.0",
    "@angular/core": "^5.2.0",
    "@angular/forms": "^5.2.0",
    "@angular/http": "^5.2.0",
    "@angular/platform-browser": "^5.2.0",
    "@angular/platform-browser-dynamic": "^5.2.0",
    "@angular/router": "^5.2.0",
    "core-js": "^2.4.1",
    "rxjs": "^5.5.6",
    "zone.js": "^0.8.19"
  },
  "devDependencies": {
    "@angular/cli": "1.6.7",
    "@angular/compiler-cli": "^5.2.0",
    "@angular/language-service": "^5.2.0",
    "@types/jasmine": "~2.8.3",
    "@types/jasminewd2": "~2.0.2",
    "@types/node": "~6.0.60",
    "codelyzer": "^4.0.1",
    "jasmine-core": "~2.8.0",
    "jasmine-spec-reporter": "~4.2.1",
    "karma": "~2.0.0",
    "karma-chrome-launcher": "~2.2.0",
    "karma-coverage-istanbul-reporter": "^1.2.1",
    "karma-jasmine": "~1.1.0",
    "karma-jasmine-html-reporter": "^0.2.2",
    "protractor": "~5.1.2",
    "ts-node": "~4.1.0",
    "tslint": "~5.9.1",
    "typescript": "~2.5.3"
  }
}

```

### React

* 優點
  1. 最早倡導 component 架構，可以強化架構概念
  2. 最早倡導生命週期的概念，講究單一節點的狀態、掛載、卸載等單一 component 管理，有益軟體工程素質養成
  3. 勞動市場擁有龐大的相關人力需求，不怕沒工作
* 缺點
  1. 工具鏈過度圍繞於 redux 本身，當應用龐大時，太多程式碼和複雜度會集中於 component mangement 本身。如果拿捏不當或著火入魔，通常會把 redux 寫得很像 Backend Application for React。反而在 react 和 redux 之間變成一輕一重的關係，這是非常不正常的！ Front-End 的核心目標應該是「解決 UI 和代碼互動之間的複雜度」，redux 的存在模糊了解決目的的本質。例如：redux-thunk、redux-saga、redux-observable 都是在錯誤的基準點衍生工具，應該要 react-thunk、react-saga、redux-observable 才對，只要關注 single component 的互動結果送給 component mangement 即可，不必把那些瑣碎的事情都交給 redux 來做。
  2. 軟體思想太過彈性，官方沒有所謂的最佳實踐來統一產出形式，所以造成每個工程師無法寫出大同小異的程式碼，維護性極差，衍生為各公司裡新一門的技術債，跟 jQuery 一樣臭只是早晚的問題。
  3. 單向榜定是噩夢的開始，得靠 prop 傳遞過程趨使 root 下的 commponet 改變狀態
    1. 把 commponet 組織之間當成 Function 的一種來連繫。即使有了 redux，當為了改變 commponet 的狀態還是得要傳遞 prop。所以，你為了記住 commponet 在傳遞三小，你得在編輯器開很多 commponet 相關檔案，依序直到你最終要傳遞的 commponet，才知道你的對象拿到的資料什麼，太血尿了！
    2. 真希望有個 commponet 的全域變數可以直接提取，再對他的 child commponets 即可，我不想要用他媽的 Functional 觀念來表示 componet 的關係，對我而言，他們最終 render 是一個 HTML！
  4. 衍生靠杯問題，拿捏不定的 CSS in JS：總而言之，CSS 封裝性很弱，無法用 object 或 module 的型式表示，以至於無法像 JS 在 Webpack 享用 tree-shaking 的特性而減少 CSS 本身的引用。若依照此盲點繼續在 componet 實踐上會造成嚴重耦合。這種狗問題只有當 CSS 變成一個 object 的撰寫方式才能解決。
  5. 實作大型應用所需要的經驗值太高，浪費太多精力在特定工具上。
* 應用情境
  * 只適用低複雜度且單純的業務邏輯，使用越少生態系工具鏈越輕鬆 —— 最好只用 react，其他工具都不要用，因為他們有毒！
* 作者幹話
  * 自以為新創的公司且有過剩聰明才智的開發人員在玩的玩具。但在實踐簡單的業務邏輯前提下，確實是一大利器。

### Vue

* 優點
  1. **承襲 Angular 和 React 的優點**：更簡易的生命週期和雙向綁定，立即反應 component 的當下狀態。
  2. **核心工具鏈全都是官方製作**:與 Vue 擁有高度相容和無縫整合，致力於 view 為解決核心目標。
  3. **The Progressive JavaScript Framework**：開發人員可以依照業務複雜度，選用合適的工具適度 scaling，適用於小、中、大等前端應用規模。
  4. **Single file component**：其講求的是高度封裝的物件，而不是。詳情請參考：[探索Vue高阶组件](http://hcysun.me/2018/01/05/%E6%8E%A2%E7%B4%A2Vue%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/)
  5. 自創 vue 的檔案格式，緊密整合 JS 、 CSS 、HTML 三個元素，當開發大型應用，有益減少檔案數量和管理複雜度
  6. 承襲 ng 的模板 api，大幅減少開發人員撰寫模板代碼和事件綁定難易度，對開發人員的生命十分友善。
* 缺點:
  1. 速成 UI 套件太少，對於低層次且習慣使用 JQ 的開發人員，會感到非常不習慣
  2. 在中文文化圈以外，知名度較不盛行，而且工作機會不多
  3. 非由大公司主導且創造，有大公司信仰且無辨識能力的人，極度建議不要使用。

## 結論

據我所知，目前(國外)勞動市場和獵人頭說法，只要精熟該工具鏈要 2～3 年就能稱為 Senior。我心想，這是什麼鬼東西，投入這麼多時間在強化 Front-End  View Libaray，如果瓶頸不在 fe 怎麼辦？既然 Front-End 是屬於 Engineering 領域的一環，除了介面刻畫以外還有其他地方可以提昇：例如 Webpack 壓縮和切分檔案、部署更多 CDN 節點、建置 UI test 提高維護性和穩健性、建立 Docker 統一本地端的開發環境環境。若只著重於介面刻畫功夫，一旦 Front-End 世界又推陳出新一個工具，是不是得要打掉重練？然後帶著不扎實的 JS 、 CSS 技巧轉移至新的工具重新開始，這樣不是跟 JQ 時代轉型不良的工程師又有何不同。

如果用 Vue，憑著他官方指定的工具鏈以及應用相關複雜度的循序漸進指引，我認為只要 1 年的時間，一定可以變成滿足市場的 Senior Front-End Engineer。而且，刻劃畫面是一件體力活，務必隨時提醒自己：「人生生命苦短」避免職涯陷入泥淖。也要注意前端工具鏈隨著流行與應用於自然伴隨生命週期變化，相較 Angular 和 React，你可以用額外的時間投入 browser 底層、第三方 App、Infra、Back-End 等領域，累積自己做為「軟體工程」和「打造產品」等素養，以便於在 Front-End Development 的路上更加順遂。

戰工具鏈的軟體架構、複雜度解決方法，根本是智障中的智障。如何降低工程師的學習成本、提昇開發體驗、專案可維護性，才是最好的工具。因為我不是聰明絕頂且頂尖的工程師，當然不如工具創造者如此熟悉工具本質，所以我認為只需要一個快速好上手的工具引領我進入 Front-End 世界即可，面對其他同事方便構思彼此的開發理念確實是在官方的思想框架下進行。這種事不需要用專業能力來評論，畢竟我終究只是一個使用者，應用工程師，而不是軟體工程師，能減少我的時間去開發 Front-End ，才是最好的工具，因此我認為 Vue 是絕對首選。
